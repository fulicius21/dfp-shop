import{j as e}from"./ui-BEFQdRNW.js";import{h as A,a as j,L as r}from"./vendor-BSHbFqWw.js";import{A as v,f as p,B as i,g as a,C as b,c as w}from"./index-Du4_7OI5.js";import{S,a as K,b as L,d as D,e as g,G as E,L as F}from"./select-CNrcwa03.js";import{e as z,f as B,W as y}from"./useProducts-DSl2A2Bm.js";import{A as $}from"./arrow-left-CIYZvkQ0.js";import"./utils-RvYD77G1.js";import"./query-BW2QfU5q.js";import"./check-D2Xo2uSt.js";const U=()=>{const{slug:s}=A(),[c,x]=j.useState("grid"),[t,m]=j.useState("name"),{data:l,isLoading:k,error:u}=z(s||""),C=j.useMemo(()=>({sortBy:t,sortOrder:"asc"}),[t]),{data:N,isLoading:P,error:f}=B(s||"",C),d=j.useMemo(()=>{if(!N)return[];let n=[...N];return n.sort((o,h)=>{switch(t){case"price":return o.price-h.price;case"priceDesc":return h.price-o.price;case"name":return o.name.localeCompare(h.name);case"newest":return new Date(h.createdAt||0).getTime()-new Date(o.createdAt||0).getTime();default:return 0}}),n},[N,t]);return k||P?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Kollektion wird geladen..."})]})}):u||!l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(v,{className:"mb-6 border-red-200 bg-red-50 max-w-md",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsx(p,{children:u?`Fehler: ${u.message}`:"Kollektion nicht gefunden"})]}),e.jsx(i,{asChild:!0,children:e.jsx(r,{to:"/kollektionen",children:"Zurück zu den Kollektionen"})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-8",children:[e.jsx(r,{to:"/",className:"hover:text-gray-900",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(r,{to:"/kollektionen",className:"hover:text-gray-900",children:"Kollektionen"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900",children:l.name})]}),e.jsx(i,{asChild:!0,variant:"ghost",className:"mb-6",children:e.jsxs(r,{to:"/kollektionen",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Zurück zu den Kollektionen"]})}),f&&e.jsxs(v,{className:"mb-6 border-orange-200 bg-orange-50",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsxs(p,{children:["Fehler beim Laden der Produkte: ",f.message]})]}),e.jsxs("div",{className:"relative overflow-hidden rounded-lg mb-12",children:[e.jsxs("div",{className:"aspect-[3/1] bg-gray-200",children:[e.jsx("img",{src:l.image||"/images/collections/placeholder.jpg",alt:l.name,className:"w-full h-full object-cover",onError:n=>{const o=n.target;o.src="/images/collections/placeholder.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center text-white",children:e.jsxs("div",{className:"max-w-3xl px-4",children:[e.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[l.featured&&e.jsx(a,{variant:"default",className:"bg-yellow-400 text-black",children:"Featured"}),l.season&&e.jsx(a,{variant:"outline",className:"text-white border-white",children:l.season})]}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:l.name}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-6",children:l.description}),d.length>0&&e.jsxs("p",{className:"text-lg",children:[d.length," ",d.length===1?"Produkt":"Produkte"]})]})})]}),l.description&&e.jsx("div",{className:"bg-white rounded-lg p-8 mb-12",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Über die ",l.name," Kollektion"]}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:l.description})]})}),d.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Produkte (",d.length,")"]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs(S,{value:t,onValueChange:m,children:[e.jsx(K,{className:"w-48",children:e.jsx(L,{placeholder:"Sortieren nach..."})}),e.jsxs(D,{children:[e.jsx(g,{value:"name",children:"Name (A-Z)"}),e.jsx(g,{value:"price",children:"Preis (niedrig-hoch)"}),e.jsx(g,{value:"priceDesc",children:"Preis (hoch-niedrig)"}),e.jsx(g,{value:"newest",children:"Neueste zuerst"})]})]}),e.jsxs("div",{className:"flex rounded-md border",children:[e.jsx(i,{variant:c==="grid"?"default":"ghost",size:"sm",onClick:()=>x("grid"),className:"rounded-r-none",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(i,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>x("list"),className:"rounded-l-none",children:e.jsx(F,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:c==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-6",children:d.map(n=>e.jsx(M,{product:n,viewMode:c},n.id))})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Keine Produkte gefunden"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"In dieser Kollektion sind momentan keine Produkte verfügbar."}),e.jsx(i,{asChild:!0,children:e.jsx(r,{to:"/produkte",children:"Alle Produkte ansehen"})})]}),e.jsxs("div",{className:"mt-16 bg-white rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Entdecken Sie mehr Kollektionen"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Durchstöbern Sie unsere anderen Kollektionen für mehr Urban Fashion."}),e.jsx(i,{asChild:!0,size:"lg",children:e.jsx(r,{to:"/kollektionen",children:"Alle Kollektionen ansehen"})})]})]})})},M=({product:s,viewMode:c})=>{var x,t;return c==="list"?e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(w,{className:"p-0",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-48 h-48 flex-shrink-0",children:e.jsx("img",{src:((x=s.images)==null?void 0:x[0])||"/images/products/placeholder.jpg",alt:s.name,className:"w-full h-full object-cover rounded-l-lg",onError:m=>{const l=m.target;l.src="/images/products/placeholder.jpg"}})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:e.jsx(r,{to:`/produkte/${s.id}`,className:"hover:text-gray-600",children:s.name})}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold",children:[s.price,"€"]}),s.originalPrice&&e.jsxs("p",{className:"text-sm text-gray-500 line-through",children:[s.originalPrice,"€"]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[s.featured&&e.jsx(a,{variant:"default",children:"Featured"}),s.newArrival&&e.jsx(a,{variant:"secondary",children:"Neu"}),s.bestseller&&e.jsx(a,{variant:"outline",children:"Bestseller"}),s.discount>0&&e.jsxs(a,{variant:"destructive",children:["-",s.discount,"%"]})]}),e.jsx(i,{asChild:!0,children:e.jsx(r,{to:`/produkte/${s.id}`,children:"Details"})})]})]})]})})}):e.jsx(b,{className:"group hover:shadow-lg transition-shadow",children:e.jsxs(w,{className:"p-0",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:e.jsx("img",{src:((t=s.images)==null?void 0:t[0])||"/images/products/placeholder.jpg",alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:m=>{const l=m.target;l.src="/images/products/placeholder.jpg"}})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold mb-1 line-clamp-1",children:e.jsx(r,{to:`/produkte/${s.id}`,className:"hover:text-gray-600",children:s.name})}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.category})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold",children:[s.price,"€"]}),s.originalPrice&&e.jsxs("p",{className:"text-sm text-gray-500 line-through",children:[s.originalPrice,"€"]})]}),e.jsxs("div",{className:"flex gap-1",children:[s.featured&&e.jsx(a,{variant:"default",className:"text-xs",children:"F"}),s.newArrival&&e.jsx(a,{variant:"secondary",className:"text-xs",children:"N"}),s.bestseller&&e.jsx(a,{variant:"outline",className:"text-xs",children:"B"}),s.discount>0&&e.jsxs(a,{variant:"destructive",className:"text-xs",children:["-",s.discount,"%"]})]})]}),e.jsx(i,{asChild:!0,className:"w-full",size:"sm",children:e.jsx(r,{to:`/produkte/${s.id}`,children:"Details ansehen"})})]})]})})};export{U as default};
