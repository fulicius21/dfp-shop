import{j as e}from"./ui-BEFQdRNW.js";import{h as q,a as n,L as m}from"./vendor-BSHbFqWw.js";import{e as P,i as D,j as V,A as R,f as Z,B as i,g as h,S as G,C as g,c as u}from"./index-Du4_7OI5.js";import{H,T as O,a as Q,b as j,c as p}from"./tabs-DkgMUvkP.js";import{d as K,W as J}from"./useProducts-DSl2A2Bm.js";import{g as U}from"./type-guards-DFIqMLbj.js";import{A as X}from"./arrow-left-CIYZvkQ0.js";import{T as Y}from"./truck-CRd3cpqW.js";import{S as _}from"./shield-wxtDkfsW.js";import{S as ee}from"./star-BwDRe5Kd.js";import"./utils-RvYD77G1.js";import"./query-BW2QfU5q.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=P("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=P("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ue=()=>{var C,z;const{id:$}=q(),[b,T]=n.useState(0),[r,y]=n.useState(""),[t,v]=n.useState(""),[l,k]=n.useState(1),[N,A]=n.useState(!1),{addItem:B,getItemQuantity:M}=D(),{toast:x}=V(),{data:s,isLoading:I,error:w}=K($||"");n.useEffect(()=>{s&&(s.colors.length>0&&v(s.colors[0].code),s.sizes.length>0&&y(s.sizes[0]))},[s]);const f=()=>s?{id:`${s.id}-${r}-${t}`,size:r,color:t,sku:`${s.sku||s.id}-${r}-${t}`,stock:Math.floor(Math.random()*50)+10,price:s.price}:null,o=()=>{const a=f();return a?a.stock:0},d=()=>o()>0,L=()=>{if(!s||!r||!t){x({title:"Auswahl erforderlich",description:"Bitte wählen Sie Größe und Farbe aus.",variant:"destructive"});return}if(!d()){x({title:"Nicht verfügbar",description:"Dieses Produkt ist momentan nicht auf Lager.",variant:"destructive"});return}const a=f();a&&(B({productId:s.id,name:s.name,price:a.price,image:s.images[0]||"",size:r,color:t,quantity:l}),x({title:"Zum Warenkorb hinzugefügt",description:`${s.name} (${r}, ${t}) wurde hinzugefügt.`}))},W=()=>{A(!N),x({title:N?"Von Wunschliste entfernt":"Zur Wunschliste hinzugefügt",description:(s==null?void 0:s.name)||""})};if(I)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Produktdetails werden geladen..."})]})});if(w)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(R,{className:"mb-6 border-red-200 bg-red-50 max-w-md",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsxs(Z,{children:["Fehler beim Laden des Produkts: ",U(w)]})]}),e.jsx(i,{asChild:!0,children:e.jsx(m,{to:"/produkte",children:"Zurück zu den Produkten"})})]})});if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Produkt nicht gefunden"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Das angeforderte Produkt konnte nicht gefunden werden."}),e.jsx(i,{asChild:!0,children:e.jsx(m,{to:"/produkte",children:"Zurück zu den Produkten"})})]})});const S=M(((C=f())==null?void 0:C.id)||"");return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-8",children:[e.jsx(m,{to:"/",className:"hover:text-gray-900",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(m,{to:"/produkte",className:"hover:text-gray-900",children:"Produkte"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900",children:s.name})]}),e.jsx(i,{asChild:!0,variant:"ghost",className:"mb-6",children:e.jsxs(m,{to:"/produkte",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Zurück zu den Produkten"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-gray-100",children:e.jsx("img",{src:s.images[b]||"/images/products/placeholder.jpg",alt:s.name,className:"w-full h-full object-cover",onError:a=>{const c=a.target;c.src="/images/products/placeholder.jpg"}})}),s.images.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.images.map((a,c)=>e.jsx("button",{onClick:()=>T(c),className:`aspect-square overflow-hidden rounded-md border-2 ${b===c?"border-black":"border-gray-200"}`,children:e.jsx("img",{src:a,alt:`${s.name} ${c+1}`,className:"w-full h-full object-cover",onError:E=>{const F=E.target;F.src="/images/products/placeholder.jpg"}})},c))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 mb-3",children:[s.featured&&e.jsx(h,{variant:"default",children:"Featured"}),s.newArrival&&e.jsx(h,{variant:"secondary",children:"Neu"}),s.bestseller&&e.jsx(h,{variant:"outline",children:"Bestseller"}),s.discount>0&&e.jsxs(h,{variant:"destructive",children:["-",s.discount,"%"]})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.name}),e.jsxs("p",{className:"text-gray-600 text-lg",children:[s.category," • ",s.collection]})]}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[s.price,"€"]}),s.originalPrice&&e.jsxs("span",{className:"text-xl text-gray-500 line-through",children:[s.originalPrice,"€"]})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description}),s.colors.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:["Farbe: ",(z=s.colors.find(a=>a.code===t))==null?void 0:z.name]}),e.jsx("div",{className:"flex gap-2",children:s.colors.map(a=>e.jsx("button",{onClick:()=>v(a.code),className:`w-8 h-8 rounded-full border-2 ${t===a.code?"border-gray-900 ring-2 ring-gray-300":"border-gray-300"}`,style:{backgroundColor:a.code},title:a.name},a.code))})]}),s.sizes.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:["Größe: ",r]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.sizes.map(a=>e.jsx("button",{onClick:()=>y(a),className:`py-2 px-4 text-sm font-medium rounded-md border ${r===a?"border-gray-900 bg-gray-900 text-white":"border-gray-300 bg-white text-gray-900 hover:bg-gray-50"}`,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Anzahl"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>k(Math.max(1,l-1)),disabled:l<=1,children:"-"}),e.jsx("span",{className:"w-12 text-center font-medium",children:l}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>k(Math.min(o(),l+1)),disabled:l>=o(),children:"+"}),e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[o()," verfügbar"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${d()?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:`text-sm font-medium ${d()?"text-green-600":"text-red-600"}`,children:d()?"Auf Lager":"Nicht verfügbar"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(i,{onClick:L,disabled:!d()||!r||!t,className:"flex-1",size:"lg",children:[e.jsx(G,{className:"h-5 w-5 mr-2"}),"In den Warenkorb",S>0&&e.jsx("span",{className:"ml-2 bg-white text-black px-2 py-1 rounded-full text-xs",children:S})]}),e.jsx(i,{variant:"outline",size:"lg",onClick:W,children:e.jsx(H,{className:`h-5 w-5 ${N?"fill-red-500 text-red-500":""}`})}),e.jsx(i,{variant:"outline",size:"lg",children:e.jsx(ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Y,{className:"h-6 w-6 mx-auto mb-2 text-gray-600"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Kostenloser Versand ab 50€"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"h-6 w-6 mx-auto mb-2 text-gray-600"}),e.jsx("p",{className:"text-xs text-gray-600",children:"30 Tage Rückgabe"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(_,{className:"h-6 w-6 mx-auto mb-2 text-gray-600"}),e.jsx("p",{className:"text-xs text-gray-600",children:"2 Jahre Garantie"})]})]})]})]}),e.jsx("div",{className:"mt-16",children:e.jsxs(O,{defaultValue:"details",className:"w-full",children:[e.jsxs(Q,{className:"grid w-full grid-cols-4",children:[e.jsx(j,{value:"details",children:"Details"}),e.jsx(j,{value:"care",children:"Pflege"}),e.jsx(j,{value:"sustainability",children:"Nachhaltigkeit"}),e.jsx(j,{value:"reviews",children:"Bewertungen"})]}),e.jsx(p,{value:"details",className:"mt-6",children:e.jsx(g,{children:e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Produktdetails"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Material"}),e.jsx("p",{className:"text-gray-600",children:s.material||"Hochwertige Materialzusammensetzung"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Eigenschaften"}),e.jsxs("ul",{className:"text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Atmungsaktiv"}),e.jsx("li",{children:"• Formbeständig"}),e.jsx("li",{children:"• Farbecht"}),e.jsx("li",{children:"• Nachhaltig produziert"})]})]})]})]})})}),e.jsx(p,{value:"care",className:"mt-6",children:e.jsx(g,{children:e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pflegehinweise"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:s.careInstructions||"Maschinenwäsche bei 30°C, nicht bleichen, bei niedriger Temperatur bügeln"}),e.jsxs("ul",{className:"text-gray-600 space-y-2",children:[e.jsx("li",{children:"• Separat oder mit ähnlichen Farben waschen"}),e.jsx("li",{children:"• Nicht in den Trockner"}),e.jsx("li",{children:"• Bei Bedarf mit niedrigen Temperaturen bügeln"}),e.jsx("li",{children:"• Nicht chemisch reinigen"})]})]})]})})}),e.jsx(p,{value:"sustainability",className:"mt-6",children:e.jsx(g,{children:e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Nachhaltigkeit"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"Dieses Produkt wird unter fairen Arbeitsbedingungen und mit umweltfreundlichen Materialien hergestellt."}),e.jsxs("ul",{className:"text-gray-600 space-y-2",children:[e.jsx("li",{children:"• GOTS-zertifizierte Bio-Baumwolle"}),e.jsx("li",{children:"• Faire Löhne für alle Arbeiter"}),e.jsx("li",{children:"• CO2-neutraler Versand"}),e.jsx("li",{children:"• Recycelbare Verpackung"})]})]})]})})}),e.jsx(p,{value:"reviews",className:"mt-6",children:e.jsx(g,{children:e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Kundenbewertungen"}),e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ee,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Noch keine Bewertungen vorhanden."}),e.jsx("p",{className:"text-sm mt-2",children:"Seien Sie der Erste, der dieses Produkt bewertet!"})]})]})})})]})})]})})};export{ue as default};
