var Pe=Object.defineProperty,Re=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var ne=(s,t,n)=>t in s?Pe(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,w=(s,t)=>{for(var n in t||(t={}))re.call(t,n)&&ne(s,n,t[n]);if($)for(var n of $(t))ie.call(t,n)&&ne(s,n,t[n]);return s},y=(s,t)=>Re(s,ze(t));var z=(s,t)=>{var n={};for(var r in s)re.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&$)for(var r of $(s))t.indexOf(r)<0&&ie.call(s,r)&&(n[r]=s[r]);return n};import{b as De,j as e,c as Me,a as Ee,e as L,P as W,u as H,l as Ae,k as _e}from"./ui-BEFQdRNW.js";import{a as h,L as O}from"./vendor-BSHbFqWw.js";import{e as de,u as Fe,h as Be,A as ae,f as le,B as A,d as Ie,C as oe,c as ce,g as _}from"./index-Du4_7OI5.js";import{I as Ve}from"./input-N4x41pWl.js";import{c as me,G as Le,L as Te,S as Ke,a as He,b as $e,d as Oe,e as U}from"./select-CNrcwa03.js";import{C as X}from"./checkbox-aiNvwVxS.js";import{b as Ue,c as We,W as Ye}from"./useProducts-DSl2A2Bm.js";import{i as Ge,g as Xe}from"./type-guards-DFIqMLbj.js";import{W as qe}from"./wifi-C3scL25w.js";import"./utils-RvYD77G1.js";import"./query-BW2QfU5q.js";import"./check-D2Xo2uSt.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=de("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var ue=["PageUp","PageDown"],he=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},T="Slider",[q,Qe,es]=Ee(T),[xe,Ms]=Me(T,[es]),[ss,Y]=xe(T),ge=h.forwardRef((s,t)=>{const ee=s,{name:n,min:r=0,max:l=100,step:d=1,orientation:o="horizontal",disabled:u=!1,minStepsBetweenThumbs:a=0,defaultValue:p=[r],value:S,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:x=!1,form:N}=ee,R=z(ee,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),b=h.useRef(new Set),v=h.useRef(0),D=o==="horizontal"?ts:ns,[j=[],P]=De({prop:S,defaultProp:p,onChange:k=>{var I;(I=[...b.current][v.current])==null||I.focus(),f(k)}}),M=h.useRef(j);function i(k){const F=os(j,k);E(k,F)}function c(k){E(k,v.current)}function g(){const k=M.current[v.current];j[v.current]!==k&&m(j)}function E(k,F,{commit:I}={commit:!1}){const se=us(d),G=hs(Math.round((k-r)/d)*d+r,se),K=me(G,[r,l]);P((V=[])=>{const B=as(V,K,F);if(ms(B,a*d)){v.current=B.indexOf(K);const te=String(B)!==String(V);return te&&I&&m(B),te?B:V}else return V})}return e.jsx(ss,{scope:s.__scopeSlider,name:n,disabled:u,min:r,max:l,valueIndexToChangeRef:v,thumbs:b.current,values:j,orientation:o,form:N,children:e.jsx(q.Provider,{scope:s.__scopeSlider,children:e.jsx(q.Slot,{scope:s.__scopeSlider,children:e.jsx(D,y(w({"aria-disabled":u,"data-disabled":u?"":void 0},R),{ref:t,onPointerDown:L(R.onPointerDown,()=>{u||(M.current=j)}),min:r,max:l,inverted:x,onSlideStart:u?void 0:i,onSlideMove:u?void 0:c,onSlideEnd:u?void 0:g,onHomeKeyDown:()=>!u&&E(r,0,{commit:!0}),onEndKeyDown:()=>!u&&E(l,j.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:F})=>{if(!u){const G=ue.includes(k.key)||k.shiftKey&&he.includes(k.key)?10:1,K=v.current,V=j[K],B=d*G*F;E(V+B,K,{commit:!0})}}}))})})})});ge.displayName=T;var[pe,ve]=xe(T,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ts=h.forwardRef((s,t)=>{const D=s,{min:n,max:r,dir:l,inverted:d,onSlideStart:o,onSlideMove:u,onSlideEnd:a,onStepKeyDown:p}=D,S=z(D,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[f,m]=h.useState(null),x=H(t,j=>m(j)),N=h.useRef(void 0),R=Ae(l),b=R==="ltr",v=b&&!d||!b&&d;function C(j){const P=N.current||f.getBoundingClientRect(),M=[0,P.width],c=Q(M,v?[n,r]:[r,n]);return N.current=P,c(j-P.left)}return e.jsx(pe,{scope:s.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:e.jsx(je,y(w({dir:R,"data-orientation":"horizontal"},S),{ref:x,style:y(w({},S.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:j=>{const P=C(j.clientX);o==null||o(P)},onSlideMove:j=>{const P=C(j.clientX);u==null||u(P)},onSlideEnd:()=>{N.current=void 0,a==null||a()},onStepKeyDown:j=>{const M=fe[v?"from-left":"from-right"].includes(j.key);p==null||p({event:j,direction:M?-1:1})}}))})}),ns=h.forwardRef((s,t)=>{const R=s,{min:n,max:r,inverted:l,onSlideStart:d,onSlideMove:o,onSlideEnd:u,onStepKeyDown:a}=R,p=z(R,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),S=h.useRef(null),f=H(t,S),m=h.useRef(void 0),x=!l;function N(b){const v=m.current||S.current.getBoundingClientRect(),C=[0,v.height],j=Q(C,x?[r,n]:[n,r]);return m.current=v,j(b-v.top)}return e.jsx(pe,{scope:s.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:e.jsx(je,y(w({"data-orientation":"vertical"},p),{ref:f,style:y(w({},p.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:b=>{const v=N(b.clientY);d==null||d(v)},onSlideMove:b=>{const v=N(b.clientY);o==null||o(v)},onSlideEnd:()=>{m.current=void 0,u==null||u()},onStepKeyDown:b=>{const C=fe[x?"from-bottom":"from-top"].includes(b.key);a==null||a({event:b,direction:C?-1:1})}}))})}),je=h.forwardRef((s,t)=>{const f=s,{__scopeSlider:n,onSlideStart:r,onSlideMove:l,onSlideEnd:d,onHomeKeyDown:o,onEndKeyDown:u,onStepKeyDown:a}=f,p=z(f,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),S=Y(T,n);return e.jsx(W.span,y(w({},p),{ref:t,onKeyDown:L(s.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):ue.concat(he).includes(m.key)&&(a(m),m.preventDefault())}),onPointerDown:L(s.onPointerDown,m=>{const x=m.target;x.setPointerCapture(m.pointerId),m.preventDefault(),S.thumbs.has(x)?x.focus():r(m)}),onPointerMove:L(s.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&l(m)}),onPointerUp:L(s.onPointerUp,m=>{const x=m.target;x.hasPointerCapture(m.pointerId)&&(x.releasePointerCapture(m.pointerId),d(m))})}))}),be="SliderTrack",we=h.forwardRef((s,t)=>{const d=s,{__scopeSlider:n}=d,r=z(d,["__scopeSlider"]),l=Y(be,n);return e.jsx(W.span,y(w({"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation},r),{ref:t}))});we.displayName=be;var Z="SliderRange",ye=h.forwardRef((s,t)=>{const m=s,{__scopeSlider:n}=m,r=z(m,["__scopeSlider"]),l=Y(Z,n),d=ve(Z,n),o=h.useRef(null),u=H(t,o),a=l.values.length,p=l.values.map(x=>Ne(x,l.min,l.max)),S=a>1?Math.min(...p):0,f=100-Math.max(...p);return e.jsx(W.span,y(w({"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0},r),{ref:u,style:y(w({},s.style),{[d.startEdge]:S+"%",[d.endEdge]:f+"%"})}))});ye.displayName=Z;var J="SliderThumb",Se=h.forwardRef((s,t)=>{const n=Qe(s.__scopeSlider),[r,l]=h.useState(null),d=H(t,u=>l(u)),o=h.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return e.jsx(rs,y(w({},s),{ref:d,index:o}))}),rs=h.forwardRef((s,t)=>{const C=s,{__scopeSlider:n,index:r,name:l}=C,d=z(C,["__scopeSlider","index","name"]),o=Y(J,n),u=ve(J,n),[a,p]=h.useState(null),S=H(t,D=>p(D)),f=a?o.form||!!a.closest("form"):!0,m=_e(a),x=o.values[r],N=x===void 0?0:Ne(x,o.min,o.max),R=ls(r,o.values.length),b=m==null?void 0:m[u.size],v=b?cs(b,N,u.direction):0;return h.useEffect(()=>{if(a)return o.thumbs.add(a),()=>{o.thumbs.delete(a)}},[a,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${N}% + ${v}px)`},children:[e.jsx(q.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(W.span,y(w({role:"slider","aria-label":s["aria-label"]||R,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},d),{ref:S,style:x===void 0?{display:"none"}:s.style,onFocus:L(s.onFocus,()=>{o.valueIndexToChangeRef.current=r})}))}),f&&e.jsx(is,{name:l!=null?l:o.name?o.name+(o.values.length>1?"[]":""):void 0,form:o.form,value:x},r)]})});Se.displayName=J;var is=s=>{const d=s,{value:t}=d,n=z(d,["value"]),r=h.useRef(null),l=Fe(t);return h.useEffect(()=>{const o=r.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&p){const S=new Event("input",{bubbles:!0});p.call(o,t),o.dispatchEvent(S)}},[l,t]),e.jsx("input",y(w({style:{display:"none"}},n),{ref:r,defaultValue:t}))};function as(s=[],t,n){const r=[...s];return r[n]=t,r.sort((l,d)=>l-d)}function Ne(s,t,n){const d=100/(n-t)*(s-t);return me(d,[0,100])}function ls(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function os(s,t){if(s.length===1)return 0;const n=s.map(l=>Math.abs(l-t)),r=Math.min(...n);return n.indexOf(r)}function cs(s,t,n){const r=s/2,d=Q([0,50],[0,r]);return(r-d(t)*n)*n}function ds(s){return s.slice(0,-1).map((t,n)=>s[n+1]-t)}function ms(s,t){if(t>0){const n=ds(s);return Math.min(...n)>=t}return!0}function Q(s,t){return n=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(s[1]-s[0]);return t[0]+r*(n-s[0])}}function us(s){return(String(s).split(".")[1]||"").length}function hs(s,t){const n=Math.pow(10,t);return Math.round(s*n)/n}var ke=ge,fs=we,xs=ye,gs=Se;const Ce=h.forwardRef((r,n)=>{var l=r,{className:s}=l,t=z(l,["className"]);return e.jsxs(ke,y(w({ref:n,className:Be("relative flex w-full touch-none select-none items-center",s)},t),{children:[e.jsx(fs,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-zinc-900/20 dark:bg-zinc-50/20",children:e.jsx(xs,{className:"absolute h-full bg-zinc-900 dark:bg-zinc-50"})}),e.jsx(gs,{className:"block h-4 w-4 rounded-full border border-zinc-200 border-zinc-900/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 dark:border-zinc-800 dark:border-zinc-50/50 dark:bg-zinc-950 dark:focus-visible:ring-zinc-300"})]}))});Ce.displayName=ke.displayName;const Es=()=>{const[s,t]=h.useState("grid"),[n,r]=h.useState(!1),[l,d]=h.useState(""),[o,u]=h.useState("name"),[a,p]=h.useState({category:[],collection:[],priceRange:[0,300],sizes:[],colors:[],tags:[],inStock:!1}),S=h.useMemo(()=>({category:a.category.length>0?a.category:void 0,collection:a.collection.length>0?a.collection:void 0,priceMin:a.priceRange[0],priceMax:a.priceRange[1],sizes:a.sizes.length>0?a.sizes:void 0,colors:a.colors.length>0?a.colors:void 0,tags:a.tags.length>0?a.tags:void 0,inStock:a.inStock||void 0,search:l||void 0,sortBy:o,sortOrder:"asc"}),[a,l,o]),{products:f,isLoading:m,error:x,isUsingFallback:N,refetch:R}=Ue(S),{categories:b,isLoading:v,isUsingFallback:C,refetch:D}=We(),j=h.useMemo(()=>{if(!f)return[];let i=[...f];return N&&(l&&(i=i.filter(c=>c.name.toLowerCase().includes(l.toLowerCase())||c.description.toLowerCase().includes(l.toLowerCase())||c.tags.some(g=>g.toLowerCase().includes(l.toLowerCase())))),a.category.length>0&&(i=i.filter(c=>a.category.includes(c.category))),a.collection.length>0&&(i=i.filter(c=>a.collection.includes(c.collection))),i=i.filter(c=>c.price>=a.priceRange[0]&&c.price<=a.priceRange[1]),a.sizes.length>0&&(i=i.filter(c=>c.sizes.some(g=>a.sizes.includes(g)))),a.colors.length>0&&(i=i.filter(c=>c.colors.some(g=>a.colors.includes(g.name)))),i.sort((c,g)=>{switch(o){case"price":return c.price-g.price;case"priceDesc":return g.price-c.price;case"name":return c.name.localeCompare(g.name);case"newest":return new Date(g.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();default:return 0}})),i},[f,l,a,o,N]),P=h.useMemo(()=>{if(!f)return[];const i=f.map(c=>c.collection).filter(c=>typeof c=="string");return[...new Set(i)]},[f]),M=h.useMemo(()=>{if(!f)return[];const i=f.flatMap(c=>Ge(c.sizes)?c.sizes:[]).filter(Boolean);return[...new Set(i)]},[f]);return h.useMemo(()=>{if(!f)return[];const i=f.flatMap(c=>Array.isArray(c.colors)?c.colors.map(g=>typeof g=="object"&&g&&"name"in g&&typeof g.name=="string"?g.name:""):[]).filter(Boolean);return[...new Set(i)]},[f]),h.useMemo(()=>f?[...new Set(f.flatMap(i=>i.tags))].filter(Boolean):[],[f]),m||v?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-black mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Produkte werden geladen..."})]})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[(N||C)&&e.jsxs(ae,{className:"mb-6 border-orange-200 bg-orange-50",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsxs(le,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Offline-Modus: Zeige gespeicherte Daten.",x&&` (${Xe(x)})`]}),e.jsx(A,{variant:"outline",size:"sm",onClick:()=>{R(),D()},children:"Erneut versuchen"})]})]}),!N&&!C&&e.jsxs(ae,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx(le,{children:"Online: Aktuelle Daten vom Server"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Alle Produkte"}),e.jsxs("p",{className:"text-gray-600",children:[j.length," ",j.length===1?"Produkt":"Produkte"," gefunden"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 lg:mt-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Ve,{placeholder:"Produkte suchen...",value:l,onChange:i=>d(i.target.value),className:"pl-10 w-full sm:w-80"})]}),e.jsxs("div",{className:"flex rounded-md border",children:[e.jsx(A,{variant:s==="grid"?"default":"ghost",size:"sm",onClick:()=>t("grid"),className:"rounded-r-none",children:e.jsx(Le,{className:"h-4 w-4"})}),e.jsx(A,{variant:s==="list"?"default":"ghost",size:"sm",onClick:()=>t("list"),className:"rounded-l-none",children:e.jsx(Te,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-8",children:[e.jsxs(A,{variant:"outline",onClick:()=>r(!n),className:"lg:hidden",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Filter ",n?"ausblenden":"anzeigen"]}),e.jsx("div",{className:"flex-1",children:e.jsxs(Ke,{value:o,onValueChange:u,children:[e.jsx(He,{className:"w-full lg:w-64",children:e.jsx($e,{placeholder:"Sortieren nach..."})}),e.jsxs(Oe,{children:[e.jsx(U,{value:"name",children:"Name (A-Z)"}),e.jsx(U,{value:"price",children:"Preis (niedrig-hoch)"}),e.jsx(U,{value:"priceDesc",children:"Preis (hoch-niedrig)"}),e.jsx(U,{value:"newest",children:"Neueste zuerst"})]})]})})]}),e.jsxs("div",{className:"lg:grid lg:grid-cols-4 lg:gap-8",children:[e.jsx("div",{className:`lg:col-span-1 ${n?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg border sticky top-4",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Filter"]}),b&&b.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Kategorien"}),e.jsx("div",{className:"space-y-2",children:b.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{id:`category-${i.id}`,checked:a.category.includes(i.slug),onCheckedChange:c=>{p(g=>y(w({},g),{category:c?[...g.category,i.slug]:g.category.filter(E=>E!==i.slug)}))}}),e.jsxs("label",{htmlFor:`category-${i.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[i.name," (",i.productCount,")"]})]},i.id))})]}),P.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Kollektionen"}),e.jsx("div",{className:"space-y-2",children:P.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{id:`collection-${i}`,checked:a.collection.includes(i),onCheckedChange:c=>{p(g=>y(w({},g),{collection:c?[...g.collection,i]:g.collection.filter(E=>E!==i)}))}}),e.jsx("label",{htmlFor:`collection-${i}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:i})]},i))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Preis"}),e.jsxs("div",{className:"px-2",children:[e.jsx(Ce,{value:a.priceRange,onValueChange:i=>p(c=>y(w({},c),{priceRange:i})),max:500,min:0,step:10,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[a.priceRange[0],"€"]}),e.jsxs("span",{children:[a.priceRange[1],"€"]})]})]})]}),M.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Größen"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(i=>e.jsx(A,{variant:a.sizes.includes(i)?"default":"outline",size:"sm",onClick:()=>{p(c=>y(w({},c),{sizes:a.sizes.includes(i)?c.sizes.filter(g=>g!==i):[...c.sizes,i]}))},children:i},i))})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{id:"inStock",checked:a.inStock,onCheckedChange:i=>p(c=>y(w({},c),{inStock:i}))}),e.jsx("label",{htmlFor:"inStock",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Nur verfügbare Artikel"})]})}),e.jsx(A,{variant:"outline",onClick:()=>{p({category:[],collection:[],priceRange:[0,300],sizes:[],colors:[],tags:[],inStock:!1}),d("")},className:"w-full",children:"Filter zurücksetzen"})]})}),e.jsx("div",{className:"lg:col-span-3",children:j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Keine Produkte gefunden."}),e.jsx(A,{variant:"outline",onClick:()=>{p({category:[],collection:[],priceRange:[0,300],sizes:[],colors:[],tags:[],inStock:!1}),d("")},children:"Filter zurücksetzen"})]}):e.jsx("div",{className:s==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-6",children:j.map(i=>e.jsx(ps,{product:i,viewMode:s},i.id))})})]})]})},ps=({product:s,viewMode:t})=>{var n,r;return t==="list"?e.jsx(oe,{className:"hover:shadow-lg transition-shadow",children:e.jsx(ce,{className:"p-0",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-48 h-48 flex-shrink-0",children:e.jsx("img",{src:((n=s.images)==null?void 0:n[0])||"/images/products/placeholder.jpg",alt:s.name,className:"w-full h-full object-cover rounded-l-lg",onError:l=>{const d=l.target;d.src="/images/products/placeholder.jpg"}})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:e.jsx(O,{to:`/produkte/${s.id}`,className:"hover:text-gray-600",children:s.name})}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold",children:[s.price,"€"]}),s.originalPrice&&e.jsxs("p",{className:"text-sm text-gray-500 line-through",children:[s.originalPrice,"€"]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2",children:[s.featured&&e.jsx(_,{variant:"default",children:"Featured"}),s.newArrival&&e.jsx(_,{variant:"secondary",children:"Neu"}),s.bestseller&&e.jsx(_,{variant:"outline",children:"Bestseller"}),s.discount>0&&e.jsxs(_,{variant:"destructive",children:["-",s.discount,"%"]})]}),e.jsx(A,{asChild:!0,children:e.jsx(O,{to:`/produkte/${s.id}`,children:"Details"})})]})]})]})})}):e.jsx(oe,{className:"group hover:shadow-lg transition-shadow",children:e.jsxs(ce,{className:"p-0",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:e.jsx("img",{src:((r=s.images)==null?void 0:r[0])||"/images/products/placeholder.jpg",alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:l=>{const d=l.target;d.src="/images/products/placeholder.jpg"}})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold mb-1 line-clamp-1",children:e.jsx(O,{to:`/produkte/${s.id}`,className:"hover:text-gray-600",children:s.name})}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.category})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold",children:[s.price,"€"]}),s.originalPrice&&e.jsxs("p",{className:"text-sm text-gray-500 line-through",children:[s.originalPrice,"€"]})]}),e.jsxs("div",{className:"flex gap-1",children:[s.featured&&e.jsx(_,{variant:"default",className:"text-xs",children:"F"}),s.newArrival&&e.jsx(_,{variant:"secondary",className:"text-xs",children:"N"}),s.bestseller&&e.jsx(_,{variant:"outline",className:"text-xs",children:"B"}),s.discount>0&&e.jsxs(_,{variant:"destructive",className:"text-xs",children:["-",s.discount,"%"]})]})]}),e.jsx(A,{asChild:!0,className:"w-full",size:"sm",children:e.jsx(O,{to:`/produkte/${s.id}`,children:"Details ansehen"})})]})]})})};export{Es as default};
