# üõ†Ô∏è DressForP Troubleshooting Guide

> **H√§ufige Probleme schnell l√∂sen - f√ºr absolute Anf√§nger**

## üìã Inhaltsverzeichnis

1. [üö® Notfall-L√∂sungen](#-notfall-l√∂sungen)
2. [üíª Installation Probleme](#-installation-probleme)
3. [üöÄ Start Probleme](#-start-probleme)
4. [üåê Website Probleme](#-website-probleme)
5. [‚öôÔ∏è Backend Probleme](#-backend-probleme)
6. [ü§ñ Automatisierung Probleme](#-automatisierung-probleme)
7. [üí≥ Stripe/Zahlungs-Probleme](#-stripezahlungs-probleme)
8. [üì± Telegram Bot Probleme](#-telegram-bot-probleme)
9. [üé® KI Style Creator Probleme](#-ki-style-creator-probleme)
10. [üîß System-Diagnose](#-system-diagnose)

---

## üö® Notfall-L√∂sungen

### "Nichts funktioniert!"

**Schritt 1: Komplett-Neustart**
```bash
# Windows
stop-system.bat
start-system.bat

# Mac/Linux
./stop-system.sh
./start-system.sh
```

**Schritt 2: System-Reset**
```bash
# Alle Container stoppen
docker stop $(docker ps -aq)

# Alle Container l√∂schen
docker rm $(docker ps -aq)

# Neu starten
./start-system.sh
```

**Schritt 3: Kompletter Reset**
```bash
# ACHTUNG: L√∂scht alle Daten!
docker system prune -a --volumes
./setup.sh
```

### "Ich habe etwas kaputt gemacht!"

**Backup wiederherstellen:**
```bash
./üîß scripts/backup.sh list
./üîß scripts/backup.sh restore dressforp_backup_YYYYMMDD_HHMMSS.tar.gz
```

**Auf urspr√ºnglichen Zustand zur√ºcksetzen:**
```bash
git checkout .
./setup.sh
```

---

## üíª Installation Probleme

### Problem: "Docker not found"

**Windows:**
1. Docker Desktop herunterladen: https://docker.com/products/docker-desktop
2. Installieren und neu starten
3. Docker Desktop starten
4. Setup erneut ausf√ºhren

**Mac:**
```bash
# Mit Homebrew
brew install --cask docker

# Oder manuell von docker.com
```

**Linux:**
```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# CentOS/RHEL
sudo yum install docker
sudo systemctl start docker
```

### Problem: "Permission denied"

**Windows:**
- Setup **als Administrator** ausf√ºhren
- Rechtsklick auf setup.bat ‚Üí "Als Administrator ausf√ºhren"

**Mac/Linux:**
```bash
# Scripts ausf√ºhrbar machen
chmod +x setup.sh start-system.sh stop-system.sh

# Mit sudo ausf√ºhren falls n√∂tig
sudo ./setup.sh
```

### Problem: "Node.js not found"

**Automatische Installation:**
```bash
# Das Setup-Script installiert Node.js automatisch
# Falls nicht, manuell installieren:

# Windows: nodejs.org herunterladen
# Mac: brew install node
# Linux: curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
```

### Problem: "npm install failed"

**L√∂sung:**
```bash
# npm Cache l√∂schen
npm cache clean --force

# Node modules l√∂schen und neu installieren
rm -rf node_modules package-lock.json
npm install

# Alternative: pnpm verwenden
npm install -g pnpm
pnpm install
```

---

## üöÄ Start Probleme

### Problem: "Port 3000 already in use"

**Windows:**
```cmd
# Port freigeben
netstat -ano | findstr :3000
taskkill /PID [PID_NUMMER] /F

# Oder alle Node.js Prozesse beenden
taskkill /f /im node.exe
```

**Mac/Linux:**
```bash
# Port freigeben
sudo lsof -i :3000
sudo kill -9 [PID_NUMMER]

# Oder alle Node Prozesse beenden
pkill -f node
```

### Problem: "Database connection failed"

**L√∂sung:**
```bash
# PostgreSQL Container neustarten
docker restart dressforp_postgres

# Oder komplett neu erstellen
docker-compose down
docker-compose up postgres -d

# Warten bis bereit
docker logs dressforp_postgres
```

### Problem: "Frontend won't start"

**H√§ufige Ursachen:**
1. **Node_modules fehlen:**
   ```bash
   cd "üíª frontend"
   npm install
   ```

2. **Build-Fehler:**
   ```bash
   cd "üíª frontend"
   rm -rf dist
   npm run build
   ```

3. **TypeScript-Fehler:**
   ```bash
   cd "üíª frontend"
   npm run type-check
   ```

---

## üåê Website Probleme

### Problem: "Website l√§dt nicht"

**Schritt 1: Browser-Cache leeren**
- Strg+F5 (Windows) oder Cmd+Shift+R (Mac)
- Oder: Browser-Einstellungen ‚Üí Cache l√∂schen

**Schritt 2: Andere URL versuchen**
- http://localhost:3000 (Frontend)
- http://127.0.0.1:3000 (Alternative)
- http://localhost:3001/api/health (Backend-Test)

**Schritt 3: Browser-Logs pr√ºfen**
- F12 ‚Üí Console-Tab
- Fehlermeldungen screenshot und Support senden

### Problem: "Wei√üe Seite / Blank Page"

**JavaScript-Fehler:**
1. F12 ‚Üí Console √∂ffnen
2. Rote Fehlermeldungen suchen
3. Seite neu laden (F5)

**Build-Problem:**
```bash
cd "üíª frontend"
rm -rf dist node_modules
npm install
npm run build
npm run dev
```

### Problem: "Produkte werden nicht angezeigt"

**Backend-Verbindung pr√ºfen:**
```bash
# API testen
curl http://localhost:3001/api/products

# Oder im Browser:
# http://localhost:3001/api/products
```

**Datenbank pr√ºfen:**
```bash
# In Admin-Panel schauen
# http://localhost:3000/admin
# Login: admin / admin
```

---

## ‚öôÔ∏è Backend Probleme

### Problem: "API returns 500 error"

**Logs anschauen:**
```bash
# Backend-Logs
docker logs dressforp_backend

# Oder in Datei
cat logs/backend.log
```

**Datenbank-Verbindung testen:**
```bash
# Environment-Variablen pr√ºfen
cat .env | grep DATABASE_URL

# Datenbank-Ping
docker exec dressforp_postgres pg_isready
```

### Problem: "Stripe payments not working"

**API-Keys pr√ºfen:**
```bash
# In .env Datei schauen
cat .env | grep STRIPE

# Test-Keys verwenden f√ºr Entwicklung:
# pk_test_... und sk_test_...
```

**Webhook-URL konfigurieren:**
1. Stripe Dashboard ‚Üí Webhooks
2. Endpoint hinzuf√ºgen: `https://deine-domain.com/api/stripe/webhook`
3. Events ausw√§hlen: `payment_intent.succeeded`, `checkout.session.completed`

### Problem: "Database schema outdated"

**Migration ausf√ºhren:**
```bash
cd "‚öôÔ∏è backend"
npm run db:migrate

# Oder komplett neu aufsetzen
npm run db:reset
npm run db:seed
```

---

## ü§ñ Automatisierung Probleme

### Problem: "n8n not accessible"

**Service-Status pr√ºfen:**
```bash
# n8n Container pr√ºfen
docker ps | grep n8n
docker logs dressforp_n8n

# n8n neu starten
docker restart dressforp_n8n
```

**Browser-Zugang testen:**
- URL: http://localhost:5678
- Login: admin / admin (Standard)

### Problem: "Workflows not executing"

**Workflow-Status pr√ºfen:**
1. n8n √∂ffnen (http://localhost:5678)
2. Workflow ausw√§hlen
3. "Aktiviert" Status pr√ºfen
4. "Test-Ausf√ºhrung" starten

**Webhook-URLs aktualisieren:**
1. Workflow √∂ffnen
2. Webhook-Node anklicken
3. URL kopieren: `http://localhost:5678/webhook/...`
4. In externe Services eintragen

### Problem: "Email notifications not sent"

**SMTP-Einstellungen pr√ºfen:**
```env
# In .env Datei
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=deine-email@gmail.com
MAIL_PASS=dein-app-passwort  # Nicht dein normales Passwort!
```

**Gmail App-Passwort erstellen:**
1. Google Account ‚Üí Sicherheit
2. 2-Faktor-Authentifizierung aktivieren
3. App-Passw√∂rter generieren
4. Passwort in .env eintragen

---

## üí≥ Stripe/Zahlungs-Probleme

### Problem: "Test payments fail"

**Test-Kreditkarte verwenden:**
```
Kartennummer: 4242 4242 4242 4242
Ablaufdatum: 12/25 (beliebiges zuk√ºnftiges Datum)
CVC: 123
```

**Andere Test-Karten:**
- **Visa**: 4242 4242 4242 4242
- **MasterCard**: 5555 5555 5555 4444
- **Amex**: 3782 822463 10005
- **Declined**: 4000 0000 0000 0002

### Problem: "Webhook signature invalid"

**Webhook-Secret pr√ºfen:**
1. Stripe Dashboard ‚Üí Webhooks
2. Endpoint anklicken
3. "Signing secret" kopieren
4. In .env als `STRIPE_WEBHOOK_SECRET` eintragen

**Test-Webhook senden:**
1. Stripe Dashboard ‚Üí Webhooks
2. "Send test webhook" klicken
3. Event-Type ausw√§hlen
4. Logs in n8n/Backend pr√ºfen

### Problem: "Live payments not working"

**Live-Mode aktivieren:**
1. Stripe-Gesch√§ft vollst√§ndig verifizieren
2. Live-API-Keys aktivieren
3. In .env ersetzen:
   ```env
   STRIPE_PUBLISHABLE_KEY=pk_live_...
   STRIPE_SECRET_KEY=sk_live_...
   ```

**‚ö†Ô∏è Wichtig:** Test-Keys mit Live-Keys NICHT mischen!

---

## üì± Telegram Bot Probleme

### Problem: "Bot responds not"

**Bot-Token pr√ºfen:**
```bash
# Token in .env pr√ºfen
cat .env | grep TELEGRAM_BOT_TOKEN

# Bot-Status testen
curl "https://api.telegram.org/bot[TOKEN]/getMe"
```

**Bot neu erstellen:**
1. Telegram √∂ffnen
2. @BotFather suchen
3. `/newbot` senden
4. Namen vergeben
5. Token kopieren und in .env eintragen

### Problem: "Not authorized to use bot"

**Admin-IDs konfigurieren:**
1. Deine Telegram-ID herausfinden:
   - @userinfobot in Telegram starten
   - ID kopieren
2. In .env eintragen:
   ```env
   TELEGRAM_ADMIN_IDS=123456789,987654321
   ```

### Problem: "Commands not working"

**Bot-Commands registrieren:**
```bash
# Im Backend-Ordner
cd "‚öôÔ∏è backend"
npm run telegram:setup-commands

# Oder manuell via BotFather
# /setcommands senden und Liste einf√ºgen
```

---

## üé® KI Style Creator Probleme

### Problem: "AI service not starting"

**Resource-Requirements:**
- **Mindestens 4GB RAM** f√ºr KI-Container
- **10GB freier Speicher** f√ºr Modelle

**Container-Status pr√ºfen:**
```bash
docker ps | grep ai-creator
docker logs dressforp_ai

# Mehr RAM zuweisen
docker-compose up ai-creator --scale ai-creator=1 --memory=4g
```

### Problem: "Image generation fails"

**API-Token pr√ºfen:**
```env
# In .env Datei
HUGGINGFACE_API_TOKEN=hf_...
OPENAI_API_KEY=sk-...
STABILITY_API_KEY=sk-...
```

**Hugging Face Token erstellen:**
1. https://huggingface.co anmelden
2. Settings ‚Üí Access Tokens
3. "New token" erstellen
4. Token in .env eintragen

### Problem: "Generated images poor quality"

**Prompt-Optimierung:**
```
‚ùå Schlecht: "sch√∂nes kleid"
‚úÖ Besser: "professional fashion photography of elegant red evening dress, studio lighting, white background, high quality, commercial photo"
```

**Modell-Parameter anpassen:**
- **Steps**: 50-100 (h√∂her = besser)
- **Guidance Scale**: 7-15
- **Size**: 512x512 oder 768x768

---

## üîß System-Diagnose

### Automatische Diagnose

```bash
# System-Status pr√ºfen
./üîß scripts/system-check.sh

# Logs sammeln
./üîß scripts/collect-logs.sh

# Performance-Test
./üîß scripts/performance-test.sh
```

### Manuelle Diagnose

**Container-Status:**
```bash
# Alle Container anzeigen
docker ps -a

# Logs aller Services
docker-compose logs

# Resource-Verbrauch
docker stats
```

**Netzwerk-Tests:**
```bash
# Port-Tests
curl http://localhost:3000  # Frontend
curl http://localhost:3001/api/health  # Backend
curl http://localhost:5678/healthz  # n8n
curl http://localhost:7860/health  # AI Creator
```

**Disk-Space pr√ºfen:**
```bash
# Verf√ºgbarer Speicher
df -h

# Docker-Images Gr√∂√üe
docker images

# Logs-Gr√∂√üe
du -sh logs/
```

### System-Info sammeln

**F√ºr Support-Anfragen:**
```bash
# System-Info exportieren
cat > support-info.txt << EOF
=== DRESSFORP SYSTEM INFO ===
Date: $(date)
OS: $(uname -a)
Node: $(node --version 2>/dev/null || echo "Not installed")
Docker: $(docker --version 2>/dev/null || echo "Not installed")
RAM: $(free -h 2>/dev/null || echo "Unknown")
Disk: $(df -h . | tail -1)

=== ENVIRONMENT ===
$(cat .env | grep -v SECRET | grep -v PASSWORD | grep -v TOKEN)

=== DOCKER STATUS ===
$(docker ps -a)

=== LOGS (last 50 lines) ===
$(tail -50 logs/backend.log 2>/dev/null || echo "No backend logs")
EOF

echo "System-Info gespeichert in: support-info.txt"
```

---

## üÜò Hilfe anfordern

### Bevor du Support kontaktierst:

1. **Dieses Troubleshooting durchlesen**
2. **System-Diagnose ausf√ºhren**
3. **Screenshots von Fehlern machen**
4. **System-Info sammeln**

### Support-Kan√§le:

**üÜì Community:**
- **Discord**: https://discord.gg/dressforp
- **GitHub Issues**: https://github.com/dressforp/issues
- **Telegram**: @dressforp_support

**üíé Premium Support:**
- **E-Mail**: support@dressforp.com
- **1:1 Video-Call**: Buchung √ºber Website
- **Priority Support**: 4h Response-Zeit

### Support-Request Template:

```
üêõ PROBLEM BESCHREIBUNG
Was ist passiert? Was sollte passieren?

üñ•Ô∏è SYSTEM-INFO
OS: Windows 11 / macOS Big Sur / Ubuntu 20.04
Browser: Chrome 91 / Firefox 89 / Safari 14
Node: v18.17.0
Docker: v20.10.7

üìã SCHRITTE ZUM REPRODUZIEREN
1. Gehe zu...
2. Klicke auf...
3. Fehler tritt auf bei...

üíæ LOGS/FEHLERMELDUNGEN
[Logs hier einf√ºgen oder als Datei anh√§ngen]

üì∑ SCREENSHOTS
[Falls vorhanden]

‚úÖ BEREITS VERSUCHT
- System neugestartet
- Cache geleert
- Logs gepr√ºft
- [andere Schritte...]
```

---

**üí° Tipp: Die meisten Probleme l√∂sen sich durch einen einfachen Neustart!**

*Dieses Troubleshooting-Guide wird regelm√§√üig mit neuen L√∂sungen aktualisiert.*
